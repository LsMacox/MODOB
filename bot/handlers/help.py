"""Help command handler: Display information about available commands."""
from __future__ import annotations

import logging
import time
from collections import deque

from telegram import Update
from telegram.ext import CommandHandler, ContextTypes
from sqlalchemy import select

from ..anti_spam import check_spam, _message_history, _ban_user
from ..database import async_session
from ..models import GroupSetting

async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """Show detailed help about bot functionality."""
    chat = update.effective_chat
    if not chat or not update.message:
        return
        
    is_group = chat.type in ["group", "supergroup"]
    
    # –í –≥—Ä—É–ø–ø–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ—Ä–æ—Ç–∫—É—é —Å–ø—Ä–∞–≤–∫—É –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –∞–Ω—Ç–∏—Å–ø–∞–º–∞
    if is_group:
        # Get chat and user IDs
        chat_id = chat.id
        user_id = update.effective_user.id if update.effective_user else None
        
        if user_id:
            # Get group settings
            async with async_session() as session:
                stmt = select(GroupSetting).where(GroupSetting.chat_id == chat_id)
                grp = await session.scalar(stmt)
            
            # Get spam limits from group settings or defaults
            limit = grp.spam_limit if grp else 5
            interval = grp.spam_interval if grp else 5
            
            # Manually track command history for this user/chat
            ban_key = (chat_id, user_id)
            history = _message_history[ban_key]
            now = time.time()
            history.append(now)
            
            # Remove old entries
            while history and now - history[0] > interval:
                history.popleft()
            
            # Check if user exceeds spam limit
            if len(history) > limit:
                # Ban user for spam
                await _ban_user(chat_id, user_id, context, "—Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –∫–æ–º–∞–Ω–¥")
                return
            
            # Standard anti-spam check as backup
            if await check_spam(update, context, grp):
                return
            
        help_text = "üìñ <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É</b>\n\n"
        help_text += "–Ø –ø–æ–º–æ–≥–∞—é –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—É, –æ—Ç–≤–µ—á–∞—è –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ "
        help_text += "–∏ –∑–∞—â–∏—â–∞—è –æ—Ç —Å–ø–∞–º–∞.\n\n"
        help_text += "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö.\n"
        help_text += "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –≤ –ª–∏—á–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–∞–º–∏."
        
        await update.message.reply_text(
            help_text,
            parse_mode="HTML"
        )
        return
    
    # –í –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
    # –°–æ–æ–±—â–µ–Ω–∏–µ 1: –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã
    help_text_1 = "üìö <b>–ü–û–î–†–û–ë–ù–ê–Ø –°–ü–†–ê–í–ö–ê –ü–û –ë–û–¢–£ (—á–∞—Å—Ç—å 1/3)</b>\n\n"
    
    # –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    help_text_1 += "<b>–û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø</b>\n\n"
    help_text_1 += "–≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø –≤ Telegram. "
    help_text_1 += "–í—Å–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è <u>—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</u>, "
    help_text_1 += "–≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –≤ –≥—Ä—É–ø–ø–∞—Ö –±–æ—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏.\n\n"
    
    # –ö–æ–º–∞–Ω–¥—ã
    help_text_1 += "<b>–î–û–°–¢–£–ü–ù–´–ï –ö–û–ú–ê–ù–î–´</b>\n\n"
    help_text_1 += "<code>/groups</code> - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –±–æ—Ç\n"
    help_text_1 += "<code>/help</code> - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç—É –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É\n\n"
    
    # –†–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏
    help_text_1 += "<b>–£–ü–†–ê–í–õ–ï–ù–ò–ï –ì–†–£–ü–ü–ê–ú–ò</b>\n\n"
    help_text_1 += "–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ –≤—ã–¥–∞—á–∏ –µ–º—É –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, "
    help_text_1 += "–Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—É <code>/groups</code>. "
    help_text_1 += "–ë—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≥—Ä—É–ø–ø, –≥–¥–µ –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º "
    help_text_1 += "–∏ –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –±–æ—Ç.\n\n"
    help_text_1 += "–î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:\n"
    help_text_1 += "- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏\n"
    help_text_1 += "- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω—Ç–∏—Å–ø–∞–º–∞\n"
    help_text_1 += "- –†–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–Ω—Ç–∏—Å–ø–∞–º-—Å–∏—Å—Ç–µ–º–æ–π\n\n"
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await update.message.reply_text(
        help_text_1,
        parse_mode="HTML"
    )
    
    # –°–æ–æ–±—â–µ–Ω–∏–µ 2: –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ –∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    help_text_2 = "üìö <b>–ü–û–î–†–û–ë–ù–ê–Ø –°–ü–†–ê–í–ö–ê –ü–û –ë–û–¢–£ (—á–∞—Å—Ç—å 2/3)</b>\n\n"
    
    # –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
    help_text_2 += "<b>–ö–õ–Æ–ß–ï–í–´–ï –°–õ–û–í–ê</b>\n\n"
    help_text_2 += "–ë–æ—Ç –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ –≥—Ä—É–ø–ø–µ. "
    help_text_2 += "–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –æ–ø—Ü–∏—é –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–æ–π.\n\n"
    help_text_2 += "–í—ã –º–æ–∂–µ—Ç–µ:\n"
    help_text_2 += "- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –Ω–∏—Ö\n"
    help_text_2 += "- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n"
    help_text_2 += "- –£–¥–∞–ª—è—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n\n"
    
    # –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
    help_text_2 += "<b>–ö–õ–Æ–ß–ï–í–´–ï –°–õ–û–í–ê: –ü–û–î–†–û–ë–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò</b>\n\n"
    help_text_2 += "–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å 4 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:\n\n"
    
    # 1. –ü–∞—Ç—Ç–µ—Ä–Ω
    help_text_2 += "1Ô∏è‚É£ <b>–ü–∞—Ç—Ç–µ—Ä–Ω</b> - –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –≥–∏–±–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞\n"
    help_text_2 += "   ‚Ä¢ <code>*</code> - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—é–±–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª—é–±—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤\n"
    help_text_2 += "   ‚Ä¢ <code>?</code> - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—é–±–æ–º—É –æ–¥–Ω–æ–º—É —Å–∏–º–≤–æ–ª—É\n\n"
    help_text_2 += "   <u>–ü—Ä–∏–º–µ—Ä—ã:</u>\n"
    help_text_2 += "   ‚Ä¢ <code>–ø—Ä–∏–≤–µ—Ç*</code> - —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ \"–ø—Ä–∏–≤–µ—Ç\", \"–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é\", \"–ø—Ä–∏–≤–µ—Ç–∏–∫\" –∏ —Ç.–¥.\n"
    help_text_2 += "   ‚Ä¢ <code>*—Å–ø–∞—Å–∏–±–æ*</code> - —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ \"—Å–ø–∞—Å–∏–±–æ\"\n"
    help_text_2 += "   ‚Ä¢ <code>–ø—Ä?–≤–µ—Ç</code> - —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ \"–ø—Ä–∏–≤–µ—Ç\", \"–ø—Ä–≤–µ—Ç\", \"–ø—Ä–∞–≤–µ—Ç\", –Ω–æ –Ω–µ –Ω–∞ \"–ø—Ä–µ–µ–≤–µ—Ç\"\n\n"
    
    # 2. –£—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä
    help_text_2 += "2Ô∏è‚É£ <b>–£—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä</b> - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤–∞–∂–µ–Ω –ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ\n\n"
    help_text_2 += "   <u>–ü—Ä–∏–º–µ—Ä—ã:</u>\n"
    help_text_2 += "   ‚Ä¢ –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ: \"–ø—Ä–∏–≤–µ—Ç\" —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ \"–ü–†–ò–í–ï–¢\", \"–ü—Ä–∏–≤–µ—Ç\", \"–ø—Ä–∏–≤–µ—Ç\"\n"
    help_text_2 += "   ‚Ä¢ –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ: \"–ü—Ä–∏–≤–µ—Ç\" —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–æ—á–Ω–æ–µ \"–ü—Ä–∏–≤–µ—Ç\", –Ω–æ –Ω–µ –Ω–∞ \"–ø—Ä–∏–≤–µ—Ç\"\n\n"
    
    # 3. –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è
    help_text_2 += "3Ô∏è‚É£ <b>–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è</b> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ä—É—Å—Å–∫–∏–º–∏ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏\n\n"
    help_text_2 += "   <u>–ü—Ä–∏–º–µ—Ä—ã:</u>\n"
    help_text_2 += "   ‚Ä¢ –ï—Å–ª–∏ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ \"–ø—Ä–∏–≤–µ—Ç\", —Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ \"privet\"\n"
    help_text_2 += "   ‚Ä¢ –ï—Å–ª–∏ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ \"hello\", —Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ \"—Ö–µ–ª–ª–æ\"\n"
    help_text_2 += "   ‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã: —Ä—É—Å—Å–∫–æ–µ —Å–ª–æ–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç\n\n"
    
    # 4. –ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫
    help_text_2 += "4Ô∏è‚É£ <b>–ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫</b> - –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —Å–ª–æ–≤–∞ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–∏–º–∏ —Ä–∞–∑–ª–∏—á–∏—è–º–∏\n\n"
    help_text_2 += "   <u>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:</u>\n\n"
    help_text_2 += "   ‚Ä¢ –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –≤ —Ç–µ–∫—Å—Ç\n"
    help_text_2 += "   ‚Ä¢ –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–ª–æ–≤ (–¥–æ 10 —Å–∏–º–≤–æ–ª–æ–≤) –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –ø–æ—Ä–æ–≥–æ–º:\n"
    help_text_2 += "      - –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–ª–æ–≤–∞ (–¥–æ 4 —Å–∏–º–≤–æ–ª–æ–≤): –ø–æ—Ä–æ–≥ —Å—Ö–æ–¥—Å—Ç–≤–∞ 70%\n"
    help_text_2 += "      - –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–ª–æ–≤–∞ (5-6 —Å–∏–º–≤–æ–ª–æ–≤): –ø–æ—Ä–æ–≥ —Å—Ö–æ–¥—Å—Ç–≤–∞ 75%\n"
    help_text_2 += "      - –°—Ä–µ–¥–Ω–∏–µ —Å–ª–æ–≤–∞ (7-10 —Å–∏–º–≤–æ–ª–æ–≤): –ø–æ—Ä–æ–≥ —Å—Ö–æ–¥—Å—Ç–≤–∞ 80%\n"
    help_text_2 += "      - –î–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ (–±–æ–ª–µ–µ 10 —Å–∏–º–≤–æ–ª–æ–≤): –ø–æ—Ä–æ–≥ —Å—Ö–æ–¥—Å—Ç–≤–∞ 85%\n\n"
    help_text_2 += "   ‚Ä¢ –î–ª—è —Ñ—Ä–∞–∑ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–æ–≤ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è:\n"
    help_text_2 += "      - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–ª–æ–≤\n"
    help_text_2 += "      - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö —Ñ—Ä–∞–∑—ã\n"
    help_text_2 += "      - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞ –¥–ª—è –≤—Å–µ–π —Ñ—Ä–∞–∑—ã\n\n"
    help_text_2 += "   ‚Ä¢ –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –º–µ—Ç–æ–¥ —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ –æ–∫–Ω–∞\n\n"
    help_text_2 += "   <u>–ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:</u>\n"
    help_text_2 += "   ‚Ä¢ –¢–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ \"–ø—Ä–∏–≤–µ—Ç\" ‚Üí \"–ø—Ä–∏–≤–µ—Ç\"\n"
    help_text_2 += "   ‚Ä¢ –û–ø–µ—á–∞—Ç–∫–∏ –≤ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–ª–æ–≤–∞—Ö: \"–ø—Ä–∏–≤–µ—Ç\" ‚Üí \"–ø—Ä–∏–≤–µ–¥\", \"–ø—Ä–≤–∏–µ—Ç\", \"–ø—Ä–∏–≤–µ—Ç—Ç\"\n"
    help_text_2 += "   ‚Ä¢ –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–ª–æ–≤–∞: \"–∫–æ–¥\" ‚Üí \"–∫–æ—Ç\" (–Ω–µ —Å–æ–≤–ø–∞–¥—ë—Ç, —Ç.–∫. —Ä–∞–∑–Ω—ã–µ —Å–ª–æ–≤–∞)\n"
    help_text_2 += "   ‚Ä¢ –ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏: \"–¥–æ–±—Ä—ã–π –¥–µ–Ω—å\" ‚Üí \"–¥–æ–±—Ä—ã –¥–µ–Ω–±\"\n"
    help_text_2 += "   ‚Ä¢ –î–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ: \"–∫–æ–º–ø—å—é—Ç–µ—Ä\" ‚Üí \"–∫–æ–º–ø—é—Ç–µ—Ä\", \"–∫–æ–º–ø—å—é—Ç–µ\"\n"
    help_text_2 += "   ‚Ä¢ –§—Ä–∞–∑–∞ –≤–Ω—É—Ç—Ä–∏ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞: \"–ø–æ–º–æ–≥–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞\" –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–∞ –¥–∞–∂–µ –≤ –±–æ–ª—å—à–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏\n\n"
    
    # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    help_text_2 += "<b>–ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ò–ï –ù–ê–°–¢–†–û–ï–ö</b>\n\n"
    help_text_2 += "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–∞–∏–ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:\n\n"
    help_text_2 += "‚Ä¢ <b>–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è + –ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫</b> - –æ–±–Ω–∞—Ä—É–∂–∏—Ç –æ–ø–µ—á–∞—Ç–∫–∏ –¥–∞–∂–µ –≤ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ\n"
    help_text_2 += "‚Ä¢ <b>–ü–∞—Ç—Ç–µ—Ä–Ω + –†–µ–≥–∏—Å—Ç—Ä</b> - —Å–æ–∑–¥–∞—Å—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É —à–∞–±–ª–æ–Ω –ø–æ–∏—Å–∫–∞\n\n"
    
    # –¢–µ–≥–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    help_text_2 += "<b>–£–ü–û–ú–ò–ù–ê–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô</b>\n\n"
    help_text_2 += "–í –æ—Ç–≤–µ—Ç–µ –Ω–∞ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ–≥ –¥–ª—è —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:\n\n"
    help_text_2 += "‚Ä¢ –î–ª—è —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥ <code>{user}</code> –≤ —Ç–µ–∫—Å—Ç–µ –æ—Ç–≤–µ—Ç–∞\n"
    help_text_2 += "‚Ä¢ –ü—Ä–∏ –æ—Ç–≤–µ—Ç–µ —ç—Ç–æ—Ç —Ç–µ–≥ –±—É–¥–µ—Ç –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ @username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –µ–≥–æ –∏–º—è\n"
    help_text_2 += "‚Ä¢ –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π\n\n"
    help_text_2 += "<u>–ü—Ä–∏–º–µ—Ä:</u> –ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç–µ –Ω–∞ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ \"–ø—Ä–∏–≤–µ—Ç\" —É–∫–∞–∑–∞–Ω —Ç–µ–∫—Å—Ç \"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {user}! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?\", "
    help_text_2 += "—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç \"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, @username! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?\"\n\n"
    
    # –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
    help_text_2 += "<b>–°–û–í–ï–¢–´ –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ</b>\n\n"
    help_text_2 += "‚Ä¢ –î–ª—è –æ–±—â–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫\n"
    help_text_2 += "‚Ä¢ –î–ª—è —Ç–æ—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –≤–∫–ª—é—á–∞–π—Ç–µ —É—á–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞\n"
    help_text_2 += "‚Ä¢ –î–ª—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –≥—Ä—É–ø–ø –≤–∫–ª—é—á–∞–π—Ç–µ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—é\n"
    help_text_2 += "‚Ä¢ –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —Å —Å–∏–º–≤–æ–ª–∞–º–∏ * –∏ ?\n"
    help_text_2 += "‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤\n\n"
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await update.message.reply_text(
        help_text_2,
        parse_mode="HTML"
    )
    
    # –°–æ–æ–±—â–µ–Ω–∏–µ 3: –ê–Ω—Ç–∏—Å–ø–∞–º –∏ –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    help_text_3 = "üìö <b>–ü–û–î–†–û–ë–ù–ê–Ø –°–ü–†–ê–í–ö–ê –ü–û –ë–û–¢–£ (—á–∞—Å—Ç—å 3/3)</b>\n\n"
    
    # –ê–Ω—Ç–∏—Å–ø–∞–º
    help_text_3 += "<b>–°–ò–°–¢–ï–ú–ê –ê–ù–¢–ò–°–ü–ê–ú–ê</b>\n\n"
    help_text_3 += "–ë–æ—Ç –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π "
    help_text_3 += "–ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –∏–ª–∏ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫.\n\n"
    help_text_3 += "–ê–Ω—Ç–∏—Å–ø–∞–º —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ –∑–∞—â–∏—Ç—ã:\n\n"
    
    help_text_3 += "<b>1. –ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–ª—É–¥–∞</b>\n\n"
    help_text_3 += "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç–ø—Ä–∞–≤–∏–≤—à–µ–≥–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏.\n\n"
    help_text_3 += "<u>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</u>\n"
    help_text_3 += "- <b>–í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ</b> - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∞–Ω—Ç–∏—Ñ–ª—É–¥ –∑–∞—â–∏—Ç—É\n"
    help_text_3 += "- <b>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π</b> - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª\n"
    help_text_3 += "- <b>–ò–Ω—Ç–µ—Ä–≤–∞–ª (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)</b> - –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π\n\n"
    
    help_text_3 += "<b>2. –ó–∞—â–∏—Ç–∞ –æ—Ç —Å—Å—ã–ª–æ–∫</b>\n\n"
    help_text_3 += "–ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è.\n\n"
    help_text_3 += "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º: http://, https://, www., t.me/, @username\n\n"
    help_text_3 += "<u>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</u>\n"
    help_text_3 += "- <b>–í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ</b> - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∑–∞ —Å—Å—ã–ª–∫–∏\n"
    help_text_3 += "- <b>–õ–∏–º–∏—Ç —Å—Å—ã–ª–æ–∫</b> - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –∑–∞ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª\n\n"
    
    help_text_3 += "<b>–í–∞–∂–Ω–æ!</b> –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –∑–∞—â–∏—Ç—ã. "
    help_text_3 += "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∏ –≤–ª–∞–¥–µ–ª—å—Ü—ã –≥—Ä—É–ø–ø—ã –Ω–µ –ø–æ–¥–ø–∞–¥–∞—é—Ç –ø–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ –∞–Ω—Ç–∏—Å–ø–∞–º —Å–∏—Å—Ç–µ–º—ã.\n\n"
    
    # –†–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    help_text_3 += "<b>–†–ê–ó–ë–ê–ù –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô</b>\n\n"
    help_text_3 += "–í —Ä–∞–∑–¥–µ–ª–µ '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω—Ç–∏—Å–ø–∞–º–∞' –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, "
    help_text_3 += "–∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∞–Ω—Ç–∏—Å–ø–∞–º-—Å–∏—Å—Ç–µ–º–æ–π, –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–∑–±–∞–Ω–∏—Ç—å –∏—Ö.\n\n"
    help_text_3 += "–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:\n"
    help_text_3 += "- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ @username (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)\n"
    help_text_3 += "- –í—Ä–µ–º—è, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞\n"
    help_text_3 += "- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–±–∞–Ω–∞\n\n"
    help_text_3 += "–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 1 –º–∏–Ω—É—Ç—ã.\n\n"
    help_text_3 += "<b>–°–ò–°–¢–ï–ú–ê –≠–°–ö–ê–õ–ê–¶–ò–ò –ë–õ–û–ö–ò–†–û–í–û–ö</b>\n\n"
    help_text_3 += "–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –¥–ª—è –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–π:\n\n"
    help_text_3 += "‚Ä¢ <b>–ü–µ—Ä–≤–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</b>: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 1 –º–∏–Ω—É—Ç—É\n"
    help_text_3 += "‚Ä¢ <b>–í—Ç–æ—Ä–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</b>: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 5 –º–∏–Ω—É—Ç\n"
    help_text_3 += "‚Ä¢ <b>–¢—Ä–µ—Ç—å–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</b>: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 15 –º–∏–Ω—É—Ç\n"
    help_text_3 += "‚Ä¢ <b>–ß–µ—Ç–≤–µ—Ä—Ç–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</b>: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 30 –º–∏–Ω—É—Ç\n"
    help_text_3 += "‚Ä¢ <b>–ü—è—Ç–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</b>: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 1 —á–∞—Å\n"
    help_text_3 += "‚Ä¢ <b>–®–µ—Å—Ç–æ–µ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è</b>: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 6 —á–∞—Å–æ–≤\n\n"
    help_text_3 += "–°—á–µ—Ç—á–∏–∫ –Ω–∞—Ä—É—à–µ–Ω–∏–π —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ –¥–≤—É—Ö —Å–ª—É—á–∞—è—Ö:\n"
    help_text_3 += "‚Ä¢ –ü—Ä–∏ —Ä—É—á–Ω–æ–º —Ä–∞–∑–±–∞–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º\n"
    help_text_3 += "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –Ω–∞—Ä—É—à–µ–Ω–∏—è\n\n"
    
    # –ü–æ–≤–µ–¥–µ–Ω–∏–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö
    help_text_3 += "<b>–ü–û–í–ï–î–ï–ù–ò–ï –ë–û–¢–ê –í –ì–†–£–ü–ü–ê–•</b>\n\n"
    help_text_3 += "–í –≥—Ä—É–ø–ø–∞—Ö –±–æ—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:\n"
    help_text_3 += "1. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n"
    help_text_3 += "2. –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–ø–∞–º–µ—Ä–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –∞–Ω—Ç–∏—Å–ø–∞–º–∞\n"
    help_text_3 += "3. –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Å—ã–ª–æ–∫\n\n"
    help_text_3 += "–ë–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –≤ –≥—Ä—É–ø–ø–∞—Ö –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞—Å–æ—Ä–µ–Ω–∏—è —á–∞—Ç–∞. "
    help_text_3 += "–í—Å–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.\n\n"
    
    # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
    help_text_3 += "<b>–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ</b>\n\n"
    help_text_3 += "- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Å –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã\n"
    help_text_3 += "- –ü–æ–¥–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω—Ç–∏—Å–ø–∞–º–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–π –≥—Ä—É–ø–ø—ã\n"
    help_text_3 += "- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n"
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç—Ä–µ—Ç—å–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await update.message.reply_text(
        help_text_3,
        parse_mode="HTML"
    )


async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """Handle /start command, show the same help as help_command."""
    # –í—ã–∑—ã–≤–∞–µ–º help_command –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–π –∂–µ —Å–ø—Ä–∞–≤–∫–∏
    await help_command(update, context)


def get_help_handlers():
    """Return all handlers for help and start commands."""
    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ help –∏ start –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Å–ø—Ä–∞–≤–∫–∏
    return [
        CommandHandler("help", help_command, filters=None),
        CommandHandler("start", start_command, filters=None),
    ]
